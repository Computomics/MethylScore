/* -------------------------------------------------
 * Nextflow config file for MethylScore
 * -------------------------------------------------
 */

env {
  LC_ALL = "C"
}

process {
  withLabel: resource_low {
    cpus   = 1
    memory = { 2.GB * task.attempt }
  }

  withLabel: resource_medium {
    cpus   = 2
    memory = { 6.GB * task.attempt }
  }

  withLabel: resource_high {
    cpus   = 4
    memory = { 12.GB * task.attempt }
  }

  errorStrategy = { ( task.exitStatus == 143 || task.exitStatus == 137 ) ? 'retry' : 'finish' }
  maxRetries = 3
  maxErrors = '-1'
}